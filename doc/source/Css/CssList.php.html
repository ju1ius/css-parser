<html>
    <head>
        <script
            type="text/javascript"
            src="../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
namespace ju1ius\Css;

/**
 * General purpose list class
 * @package Css
 **/
abstract class CssList implements \ArrayAccess, \Countable, \Iterator
{
  protected $items;

  public function __construct($items=array())
  {
    $this-&gt;items = $items;
  }

  public function isEmpty()
  {
    return count($this-&gt;items) === 0;
  }

  public function getItems()
  {
    return $this-&gt;items;
  }
  public function setItems($items)
  {
    if($items instanceof CssList) {
      $this-&gt;items = $items-&gt;getItems();
    } else {
      $this-&gt;items = $items;
    }
  }

  public function getFirst()
  {
    return isset($this-&gt;items[0]) ? $this-&gt;items[0] : null;
  }
  public function getLast()
  {
    $index = count($this-&gt;items) - 1;
    return isset($this-&gt;items[$index]) ? $this-&gt;items[$index] : null;
  }

  public function contains($item)
  {
    return in_array($item, $this-&gt;items, true);
  }

  public function prepend($item)
  {
    array_unshift($this-&gt;items, $item);
  }
	
  public function append($item)
  {
		$this-&gt;items[] = $item;
	}

  public function extend(CssList $items)
  {
    foreach($items as $item) {
      $this-&gt;items[] = $item;
    }
  }

  public function remove($item)
  {
    $index = array_search($item, $this-&gt;items);
    if($index !== false) unset($this-&gt;items[$index]);
  }

  public function removeItemAt($index)
  {
    unset($this-&gt;items[$index]);
  }

  public function insertItemAt($items, $index)
  {
    if(!is_array($items)) $items = array($items);
    array_splice($this-&gt;items, $index, 0, $items);
  }

  /**
   * Replace an item by another or by every item in an array
   *
   * @param mixed $oldItem  The index or item to replace
   * @param mixed $newItems An item or array of items to insert starting the old item position
   **/
  public function replace($oldItem, $newItems)
  {
    if(!is_int($oldItem))
    {
      $oldItem = array_search($oldItem, $this-&gt;items);
      if($oldItem === false) return;
    }
    //if($newItems instanceof CssList) {
      //$newItems = $newItems-&gt;getItems();
    /*} else */
    if(!is_array($newItems)) {
      $newItems = array($newItems);
    }
    array_splice($this-&gt;items, $oldItem, 1, $newItems);
  }

  /**
   * Reorder keys in the items array.
   * Usefull if items have been unset.
   **/
  public function resetKeys()
  {
    $this-&gt;items = array_values($this-&gt;items);
  }

  public function __clone()
  {
    $this-&gt;items = array_map(function($item)
    {
      return Util\Object::getClone($item);
    }, $this-&gt;items);
  }

  // ---------- SPL Interfaces implementation ---------- //

  public function offsetExists($offset)
  {
    return isset($this-&gt;items[$offset]);
  }
  public function offsetGet($offset)
  {
    return isset($this-&gt;items[$offset]) ? $this-&gt;items[$offset] : null;
  }
  public function offsetSet($offset, $value)
  {
    if($offset === null) {
      $this-&gt;items[] = $value;
    } else {
      $this-&gt;items[$offset] = $value;
    }
  }
  public function offsetUnset($offset)
  {
    unset($this-&gt;items[$offset]);
  }

  public function rewind() {
    reset($this-&gt;items);
  }

  public function current() {
    return current($this-&gt;items);
  }

  public function key() {
    return key($this-&gt;items);
  }

  public function next() {
    return next($this-&gt;items);
  }

  public function valid() {
    return $this-&gt;current() !== false;
  }   

  public function count() {
    return count($this-&gt;items);
  }

}
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all()
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>